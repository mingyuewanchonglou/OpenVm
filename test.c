#include <stdio.h>

int compile_bc(unsigned char *bc, int length)
{
    FILE *file = fopen("test_nop.ovmbc", "wb");
    if (!file)
    {
        printf("Unable to open file!");
        return 1;
    }
    unsigned char v1 = 0, v2 = 0, v3 = 1;
    unsigned int start_address = 0;
    fwrite("VMBC", 4, 1, file);
    fwrite(&v1, 1, 1, file);
    fwrite(&v2, 1, 1, file);
    fwrite(&v3, 1, 1, file);
    fwrite(&start_address, 4, 1, file);
    fwrite(bc, length, 1, file);
    fclose(file);
    return 0;
}

/**
 * @brief 
 * 
 * 
 * 
 */
void print_vm_state()
{
    printf("┏━━━━┳━━━━┳━━━━┳━━━━┳━━━━┳━━━━┳━━━━┳━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━┓\n");
    printf("┃ F1 ┃ F2 ┃ F3 ┃ F4 ┃ F5 ┃ F6 ┃ F7 ┃ F8 ┃        START ADDRESS    ┃\n");
    printf("┃━━━━╋━━━━╋━━━━╋━━━━╋━━━━╋━━━━╋━━━━╋━━━━╋━━━━━━━━━━━━━━━━━━━━━━━━━┃\n");
    printf("┃ %-2d ┃ %-2d ┃ %-2d ┃ %-2d ┃ %-2d ┃ %-2d ┃ %-2d ┃ %-2d ┃   0X%016xH   ┃\n", 0, 0, 0, 0, 0, 0, 0, 0, 0);
    printf("┣━━━━┻━━━━╋━━━━┻━━━━┻━━━━┻━━━━┻━━━━┻━━━━┻━━━━━━━━━━━━━━━━━━━━━━━━━┫\n");
    printf("┃ PC      ┃     0X%016xH        ┃  %-8s            ┃\n", 0, "NOP");
    printf("┃━━━━━━━━━╋━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┃\n");
    printf("┃ ACC     ┃                   0X%016xH                 ┃\n", 0);
    printf("┃━━━━━━━━━╋━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┃\n");
    printf("┃ SD      ┃                   0X%016xH                 ┃\n", 0);
    printf("┃━━━━━━━━━╋━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┃\n");
    printf("┃ SP      ┃                   0X%016xH                 ┃\n", 0);
    printf("┃━━━━━━━━━╋━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┃\n");
    printf("┃ EX      ┃                   0X%016xH                 ┃\n", 0);
    printf("┗━━━━━━━━━┻━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛\n");
}
void p()
{
    for (int i = 0; i < 256; i++)
    {
        printf("0X%08XH\n", i);
    }
}
// rm -rf ./test_nop.ovmbc && gcc test.c -o test && ./test && rm -rf test && xxd test_nop.ovmbc
int main(int argc, char const *argv[])
{
    unsigned char bc[] = {0x0000, 0x0001, 0x0002};
    //compile_bc(bc, sizeof(bc));
    // print_vm_state();
    p();
    return 0;
}







0X00000000H
0X00000001H
0X00000002H
0X00000003H
0X00000004H
0X00000005H
0X00000006H
0X00000007H
0X00000008H
0X00000009H
0X0000000AH
0X0000000BH
0X0000000CH
0X0000000DH
0X0000000EH
0X0000000FH
0X00000010H
0X00000011H
0X00000012H
0X00000013H
0X00000014H
0X00000015H
0X00000016H
0X00000017H
0X00000018H
0X00000019H
0X0000001AH
0X0000001BH
0X0000001CH
0X0000001DH
0X0000001EH
0X0000001FH
0X00000020H
0X00000021H
0X00000022H
0X00000023H
0X00000024H
0X00000025H
0X00000026H
0X00000027H
0X00000028H
0X00000029H
0X0000002AH
0X0000002BH
0X0000002CH
0X0000002DH
0X0000002EH
0X0000002FH
0X00000030H
0X00000031H
0X00000032H
0X00000033H
0X00000034H
0X00000035H
0X00000036H
0X00000037H
0X00000038H
0X00000039H
0X0000003AH
0X0000003BH
0X0000003CH
0X0000003DH
0X0000003EH
0X0000003FH
0X00000040H
0X00000041H
0X00000042H
0X00000043H
0X00000044H
0X00000045H
0X00000046H
0X00000047H
0X00000048H
0X00000049H
0X0000004AH
0X0000004BH
0X0000004CH
0X0000004DH
0X0000004EH
0X0000004FH
0X00000050H
0X00000051H
0X00000052H
0X00000053H
0X00000054H
0X00000055H
0X00000056H
0X00000057H
0X00000058H
0X00000059H
0X0000005AH
0X0000005BH
0X0000005CH
0X0000005DH
0X0000005EH
0X0000005FH
0X00000060H
0X00000061H
0X00000062H
0X00000063H
0X00000064H
0X00000065H
0X00000066H
0X00000067H
0X00000068H
0X00000069H
0X0000006AH
0X0000006BH
0X0000006CH
0X0000006DH
0X0000006EH
0X0000006FH
0X00000070H
0X00000071H
0X00000072H
0X00000073H
0X00000074H
0X00000075H
0X00000076H
0X00000077H
0X00000078H
0X00000079H
0X0000007AH
0X0000007BH
0X0000007CH
0X0000007DH
0X0000007EH
0X0000007FH
0X00000080H
0X00000081H
0X00000082H
0X00000083H
0X00000084H
0X00000085H
0X00000086H
0X00000087H
0X00000088H
0X00000089H
0X0000008AH
0X0000008BH
0X0000008CH
0X0000008DH
0X0000008EH
0X0000008FH
0X00000090H
0X00000091H
0X00000092H
0X00000093H
0X00000094H
0X00000095H
0X00000096H
0X00000097H
0X00000098H
0X00000099H
0X0000009AH
0X0000009BH
0X0000009CH
0X0000009DH
0X0000009EH
0X0000009FH
0X000000A0H
0X000000A1H
0X000000A2H
0X000000A3H
0X000000A4H
0X000000A5H
0X000000A6H
0X000000A7H
0X000000A8H
0X000000A9H
0X000000AAH
0X000000ABH
0X000000ACH
0X000000ADH
0X000000AEH
0X000000AFH
0X000000B0H
0X000000B1H
0X000000B2H
0X000000B3H
0X000000B4H
0X000000B5H
0X000000B6H
0X000000B7H
0X000000B8H
0X000000B9H
0X000000BAH
0X000000BBH
0X000000BCH
0X000000BDH
0X000000BEH
0X000000BFH
0X000000C0H
0X000000C1H
0X000000C2H
0X000000C3H
0X000000C4H
0X000000C5H
0X000000C6H
0X000000C7H
0X000000C8H
0X000000C9H
0X000000CAH
0X000000CBH
0X000000CCH
0X000000CDH
0X000000CEH
0X000000CFH
0X000000D0H
0X000000D1H
0X000000D2H
0X000000D3H
0X000000D4H
0X000000D5H
0X000000D6H
0X000000D7H
0X000000D8H
0X000000D9H
0X000000DAH
0X000000DBH
0X000000DCH
0X000000DDH
0X000000DEH
0X000000DFH
0X000000E0H
0X000000E1H
0X000000E2H
0X000000E3H
0X000000E4H
0X000000E5H
0X000000E6H
0X000000E7H
0X000000E8H
0X000000E9H
0X000000EAH
0X000000EBH
0X000000ECH
0X000000EDH
0X000000EEH
0X000000EFH
0X000000F0H
0X000000F1H
0X000000F2H
0X000000F3H
0X000000F4H
0X000000F5H
0X000000F6H
0X000000F7H
0X000000F8H
0X000000F9H
0X000000FAH
0X000000FBH
0X000000FCH
0X000000FDH
0X000000FEH
0X000000FFH